package javaio;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.Scanner;
import java.io.BufferedReader;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
public class InputFiles {
	
	public static void main(String[] args) throws IOException {
		System.out.println("**** Enter 0 to exit this program ****");
		System.out.println("**** Enter 1 to continue this program ****");
		Scanner in = new Scanner(System.in);
		int ch = in.nextInt();
		in.nextLine();
		while(!(ch==0)) {
		System.out.println("Enter the source file name with extension");
		String sourceName = in.nextLine();
		File sfile=new File(sourceName);
		System.out.println("Enter the destination file name with extension");
		String destinationName = in.nextLine();
		File dfile= new File(destinationName);
		if(sfile.exists())
		{
			if(!dfile.exists()) {
			FileReader fr = new FileReader(sourceName);
			BufferedReader br = new BufferedReader(fr);
			FileWriter fw = new FileWriter(destinationName, true);
			String s;
 
			while ((s = br.readLine()) != null) { // read a line
				fw.write(s); // write to output file
				fw.flush();
			}
			br.close();
			fw.close();
            System.out.println("file copied");
			}
			else
			{
				System.out.println("The destination file already exists do you want to overwrite the content, press 1 for overwrite and 0 for exit");
				int choice = in.nextInt();
				if(choice ==1) {
					FileReader fr = new FileReader(sourceName);
					BufferedReader br = new BufferedReader(fr);
					FileWriter fw = new FileWriter(destinationName, true);
					String s;
		 
					while ((s = br.readLine()) != null) { // read a line
						fw.write(s); // write to output file
						fw.flush();
					}
					br.close();
					fw.close();
		            System.out.println("file copied");
					}
			}
		}
		else
		{
			System.out.println("Soource file doesn't exist making a new one");
		}
		}
	}
}

