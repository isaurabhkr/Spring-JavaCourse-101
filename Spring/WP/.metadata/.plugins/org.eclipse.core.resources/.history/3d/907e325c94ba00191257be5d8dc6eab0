package com.rkit;
import java.lang.reflect.Proxy;


public class ProductFactory {
	public static Product newProduct(String className) throws InstantiationException, IllegalAccessException, ClassNotFoundException{
		//TODO 1 
		//Create Instance of Product for given className
		Class cls = Class.forName("com.rkit."+className);
		Product product = (Product) cls.newInstance();
		//TODO 2
		//Create Proxy and pass DescountAspect object to it.
		//DiscountAspect needs logger aspect.So pass Logger apsct to DiscountAspct constructor
		
		Product ob= (Product) java.lang.reflect.Proxy.newProxyInstance(product.getClass().getClassLoader(),product.getClass().getInterfaces(), new LoggerAspect(product));
		return ob;
	}

}
